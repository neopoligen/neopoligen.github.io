[!- import "includes/macros.jinja" as macros -!]

<section [@- section_attributes(page_id, {"section": section, "classes": "script_section code_example flow" } ) -@]>

    [!- if section.key_value_attributes.forward -!]
        <div class="forward flow">
            [@- section.key_value_attributes.forward -@]
        </div>
    [!- endif -!]

    [!- if section.key_value_attributes.title or section.key_value_attributes.subtitle -!]
    <div class="heading_group">
    [!- endif -!]
        <div class="code_header">
        [!- if section.key_value_attributes.title -!]
            [@- section.key_value_attributes.title -@]
        [!- else -!]
            JavaScript
        [!- endif -!]
        </div>
        [!- if section.key_value_attributes.subtitle -!]
        <div>
            [@- section.key_value_attributes.subtitle -@]
        </div>
        [!- endif -!]
    [!- if section.key_value_attributes.title or section.key_value_attributes.subtitle -!]
    </div>
    [!- endif -!]

    [!- if section.key_value_attributes.preface -!]
        <div class="preface flow">
            [@- section.key_value_attributes.preface -@]
        </div>
    [!- endif -!]

    <pre class="content flow">
        [!- autoescape false -!]
        [@- section.category.content.text -@]
        [!- endautoescape -!]
    </pre>

    [!- if section.key_value_attributes.afterword -!]
        <div class="afterword flow">
            [@- section.key_value_attributes.afterword -@]
        </div>
    [!- endif -!]

</section>
